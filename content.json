{"meta":{"title":"Dynamic_Pigeon","subtitle":null,"description":"å¥½å°‘å¹´å…‰èŠ’ä¸‡ä¸ˆ","author":"Dynamic_Pigeon","url":"https://chy669086.github.io"},"pages":[{"title":"about","date":"2024-10-01T14:14:36.000Z","updated":"2025-05-12T10:54:25.779Z","comments":false,"path":"about/index.html","permalink":"https://chy669086.github.io/about/index.html","excerpt":"","text":"[Dynamic_Pigeon ã®ç§˜å¯†å¯¹è¯] ä¸&nbsp; Dynamic_Pigeon&nbsp; å¯¹è¯ä¸­... bot_ui_ini()","keywords":"å…³äº"},{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2025-05-12T10:54:25.779Z","comments":false,"path":"bangumi/index.html","permalink":"https://chy669086.github.io/bangumi/index.html","excerpt":"","text":"","keywords":null},{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2025-05-12T10:54:25.779Z","comments":false,"path":"client/index.html","permalink":"https://chy669086.github.io/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š","keywords":"Androidå®¢æˆ·ç«¯"},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2025-05-12T10:54:25.779Z","comments":false,"path":"donate/index.html","permalink":"https://chy669086.github.io/donate/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~"},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2025-05-12T10:54:25.779Z","comments":true,"path":"comment/index.html","permalink":"https://chy669086.github.io/comment/index.html","excerpt":"","text":"å¿µä¸¤å¥è¯— å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹","keywords":"ç•™è¨€æ¿"},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2025-05-12T10:54:25.779Z","comments":false,"path":"lab/index.html","permalink":"https://chy669086.github.io/lab/index.html","excerpt":"","text":"sakuraä¸»é¢˜balabala","keywords":"Labå®éªŒå®¤"},{"title":"links","date":"2018-12-19T15:11:06.000Z","updated":"2025-05-12T10:54:25.779Z","comments":true,"path":"links/index.html","permalink":"https://chy669086.github.io/links/index.html","excerpt":"","text":"","keywords":"å‹äººå¸"},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2025-05-12T10:54:25.779Z","comments":true,"path":"rss/index.html","permalink":"https://chy669086.github.io/rss/index.html","excerpt":"","text":""},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2025-05-12T10:54:25.779Z","comments":false,"path":"theme-sakura/index.html","permalink":"https://chy669086.github.io/theme-sakura/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiro","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2025-05-12T10:54:25.779Z","comments":false,"path":"music/index.html","permalink":"https://chy669086.github.io/music/index.html","excerpt":"","text":"","keywords":"å–œæ¬¢çš„éŸ³ä¹"},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2025-05-12T10:54:25.779Z","comments":true,"path":"tags/index.html","permalink":"https://chy669086.github.io/tags/index.html","excerpt":"","text":""},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2025-05-12T10:54:25.779Z","comments":false,"path":"video/index.html","permalink":"https://chy669086.github.io/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"}],"posts":[{"title":"ä»æºç ç¼–è¯‘å®‰è£…gcc","slug":"ä»æºç ç¼–è¯‘å®‰è£…gcc","date":"2025-01-27T10:42:23.000Z","updated":"2025-01-27T10:42:23.000Z","comments":true,"path":"2025/01/27/ä»æºç ç¼–è¯‘å®‰è£…gcc/","link":"","permalink":"https://chy669086.github.io/2025/01/27/%E4%BB%8E%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85gcc/","excerpt":"","text":"è¿™æ˜¯ä¸€ä¸ªä¸ªäººç¼–è¯‘å®‰è£… gcc çš„å­˜æ¡£ã€‚ æœ¬äººæ“ä½œç³»ç»Ÿ Debian-12 ä¸‹è½½æºç ä»¥åŠä¾èµ–http://gcc.gnu.org/install/ # å®˜æ–¹ä¸‹è½½æº http://mirrors.nju.edu.cn/gnu/gcc/ # å—äº¬å¤§å­¦æº https://mirrors.tuna.tsinghua.edu.cn/gnu/gcc/ # æ¸…åæº å¯ä»¥é€‰æ‹©è‡ªå·±éœ€è¦çš„ç‰ˆæœ¬è¿›è¡Œä¸‹è½½ï¼Œè¿™é‡Œæˆ‘ä¸‹è½½çš„æ˜¯ gcc-14.2ã€‚ wget https://mirrors.tuna.tsinghua.edu.cn/gnu/gcc/gcc-14.2.0/gcc-14.2.0.tar.xz tar xf gcc-14.2.0.tar.xz cd gcc-14.2.0 # è¿™ä¸€æ­¥å¯èƒ½éœ€è¦ç»™æ‰§è¡Œæƒé™ sudo chmod a+x ./contrib/download_prerequisites # æˆ–è€… bash ./contrib/download_prerequisites ./contrib/download_prerequisites é…ç½®å¹¶ç¼–è¯‘mkdir build cd build # å®‰è£…åˆ°é»˜è®¤ä½ç½®çš„è¯ä¸éœ€è¦ä½¿ç”¨ --prefixï¼Œéœ€è¦å…¶ä»–è¯­è¨€è‡ªè¡Œæ·»åŠ  ../configure --enable-checking=release \\ --enable-languages=c,c++ \\ --disable-multilib \\ --enable-bootstrap \\ --prefix=&lt;your-path&gt; æ‰§è¡Œå®Œæ¯•åæˆ–æœ‰æˆåŠŸçš„æç¤ºï¼Œå¦‚æœæŠ¥é”™ï¼Œè¯·æ ¹æ®æç¤ºæ“ä½œã€‚ # è¿™é‡Œçœ‹ä½  cpu æœ‰å¤šå°‘æ ¸å¿ƒï¼Œæˆ‘æ˜¯ 13900 æ‰€ä»¥ç»™äº† 24 æ ¸ # è¿‡ç¨‹ä¸­å¯èƒ½ä¼šæç¤ºä¸¤ä¸ªæ–‡ä»¶æ²¡æœ‰æ‰§è¡Œæƒé™ï¼Œç»™æƒé™å°±è¡Œäº† # åªæŸ¥çœ‹ warning å’Œ error ä½¿ç”¨ make -j 24 &gt; /dev/null make -j 24 å¤§æ¦‚ç­‰å¾… 1~2 å°æ—¶åå°±ä¼šç¼–è¯‘å®Œï¼ˆçœ‹ç”µè„‘æ€§èƒ½ï¼‰ã€‚ make install é…ç½®è·¯å¾„ä½¿ç”¨é»˜è®¤è·¯å¾„çš„åº”è¯¥å¯ä»¥è·³è¿‡ # åœ¨ ~/.bashrc ä¸­ # æ›¿æ¢ &lt;your-path&gt; ä¸ºä½ è®¾ç½®çš„è·¯å¾„ export PATH=&quot;&lt;your-path&gt;/gcc-14.2/bin:$PATH&quot; export LD_LIBRARY_PATH=&quot;&lt;your-path&gt;/gcc-14.2/lib64:&lt;your-path&gt;/gcc-14.2/lib:$LD_LIBRARY_PATH&quot; å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥æ¢æ‰åŸæœ¬çš„ gcc ç¼–è¯‘å™¨ã€‚ # æ›¿æ¢ä¹‹å‰æœ€å¥½å¤‡ä»½ä¸€ä¸‹æœ¬æ¥çš„ç¼–è¯‘å™¨ # ä¹Ÿå¯ä»¥ç›´æ¥ sudo apt remove g++ gcc ln -sf &lt;your-path&gt;/bin/gcc /usr/bin/gcc ln -sf &lt;your-path&gt;/bin/g++ /usr/bin/g++ ç°åœ¨æŸ¥çœ‹ä¸€ä¸‹ç‰ˆæœ¬ï¼Œåº”è¯¥æ˜¯ gcc-14.2 äº†ã€‚ ç„¶åä½ å¤§æ¦‚ä¼šå‘ç° gdb æŸ¥çœ‹ stl çš„åŠŸèƒ½çˆ†ç‚¸äº†ï¼Œè¿™æ—¶å€™ä½ å¯èƒ½è¿˜éœ€è¦é‡æ–°ç¼–è¯‘ä¸€ä¸‹æœ€æ–°çš„ gdbï¼ˆå·ç¬‘","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://chy669086.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"gcc","slug":"gcc","permalink":"https://chy669086.github.io/tags/gcc/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://chy669086.github.io/categories/%E6%8A%80%E6%9C%AF/"}]},{"title":"Rust å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥ç»“è¥æŠ¥å‘Š","slug":"Rust-å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥ç»“è¥æŠ¥å‘Š","date":"2024-12-22T14:28:34.000Z","updated":"2024-12-22T14:28:34.000Z","comments":true,"path":"2024/12/22/Rust-å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥ç»“è¥æŠ¥å‘Š/","link":"","permalink":"https://chy669086.github.io/2024/12/22/Rust-%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E7%BB%93%E8%90%A5%E6%8A%A5%E5%91%8A/","excerpt":"","text":"ä»“åº“é“¾æ¥ï¼šhttps://github.com/chy669086/futex å‚ä¸æ–¹å‘ï¼šå®å†…æ ¸ï¼Œposix æ¥å£ç›¸å…³ã€‚ æˆ‘åœ¨å››é˜¶æ®µä¸­ç¼–å†™çš„æ˜¯ futex æœ‰å…³çš„ä»£ç ã€‚ è®¾è®¡æ€è·¯æš‚æ—¶è¯·æ±‚äº†äº”ä¸ª os éœ€è¦å®ç°çš„æ¥å£ï¼Œåˆ†åˆ«æ˜¯ sched_yield é€€å‡ºå½“å‰çš„ä»»åŠ¡ï¼Œä¸æ”¾å›è°ƒåº¦é˜Ÿåˆ—ã€‚ translate_vaddr å°†å½“å‰ä»»åŠ¡çš„è™šæ‹Ÿåœ°å€è½¬æ¢æˆæ“ä½œç³»ç»Ÿå¯ä»¥è®¿é—®çš„åœ°å€ current_task å–å¾—å½“å‰ä»»åŠ¡ current_prosess_id å–å¾—è¿›ç¨‹ id wake ä¼ å…¥ä¸€ä¸ª FutexQ ç±»å‹ï¼Œå”¤é†’ä»»åŠ¡ï¼ˆæä¾›äº† get_task å‡½æ•°å–å¾—ä»»åŠ¡ï¼‰ FutexQ æ˜¯å­˜æ”¾ä»»åŠ¡çš„é‡è¦ç±»å‹ï¼Œå†…æœ‰ key bitset task ä¸‰ä¸ªå­—æ®µï¼Œå…¶ä¸­ key å’Œ bitset æ˜¯ç”¨æ¥å”¤é†’ä»»åŠ¡çš„é‡è¦å­—æ®µã€‚ FutexKey æ˜¯ä¸€ä¸ªæšä¸¾ï¼Œç°åœ¨åªå®ç°äº†ä¸€ä¸ª Privateï¼ŒShared æš‚æ—¶æ²¡æœ‰å¼€å‘çš„æ€è·¯ã€‚ ä»»åŠ¡ç­‰å¾…é˜Ÿåˆ—å­˜å‚¨åœ¨ FutexQueues ä¸­ï¼Œé€šè¿‡ä¸€ä¸ª futex çš„å”¯ä¸€ key é€šè¿‡å“ˆå¸Œå˜æ¢åæ”¾å…¥æˆ–å”¤é†’ã€‚ ç°åœ¨å®ç°çš„è°ƒç”¨æœ‰ï¼šFUTEX_WAIT FUTEX_WAKE FUTEX_REQUEUE FUTEX_CMP_REQUEUE FUTEX_WAKE_OP ä»¥åŠå¯¹åº”çš„ bitset ç‰ˆæœ¬ å› ä¸ºä¸‰é˜¶æ®µæä¾›çš„å®å†…æ ¸ä¸­æ²¡æœ‰åˆé€‚çš„çº¿ç¨‹å®ç°ï¼ŒäºŒé˜¶çŸ­çš„é¡¹ç›®ä¸çŸ¥é“ä»€ä¹ˆåŸå› ä¸èƒ½ç¼–è¯‘ link-me çš„ä»£ç ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥æŠŠæ•´ä¸ªæ¨¡å—åˆ é™¤ linkme åç§»æ¤åˆ°äº†é˜¶æ®µäºŒçš„ä»“åº“ï¼Œå¹¶ç¼–å†™æµ‹è¯•é€šè¿‡ã€‚ æ”¶è·è¯´å®è¯è¿˜æ˜¯ä¸æ˜¯å¾ˆæ“…é•¿ç¼–å†™ no_std çš„ä»£ç ï¼Œæ‰€ä»¥æˆ‘è¿˜æ˜¯ä¾èµ–äº†å¾ˆå¤šå¤–éƒ¨åº“ã€‚ è™½ç„¶æ²¡æœ‰é€šè¿‡æœ€åˆçš„è®¾æƒ³å»é€‚é…åˆ°ä»»ä½•ä¸€ä¸ªç³»ç»Ÿé‡Œå»ï¼ˆç›´æ¥ç§»æ¤è¿˜æ˜¯å¤ªä¸æ¾è€¦åˆäº†ï¼‰ï¼Œä½†æ˜¯æˆ‘ä¹ŸèŠ±äº†å¾ˆå¤šæ—¶é—´å»å°è¯•é€‚é…ï¼Œå…¶ä¸­é˜¶æ®µäºŒçš„é¡¹ç›®ä»“åº“æ˜¯æœ€æ¥è¿‘å®Œæˆçš„ä¸€ä¸ªï¼Œç»“æœç¼–è¯‘é”™è¯¯äº†ï¼Œç»è¿‡æµ‹è¯•å‘ç°æŠŠ futex::syscall::sys_futex å‡½æ•°è°ƒç”¨å»æ‰å°±å¯ä»¥é€šè¿‡ç¼–è¯‘ï¼Œä¸€æ—¶é—´ä¸çŸ¥é“ä»ä½•æ”¹èµ·ã€‚è½¬åˆ° arceos é€‚é…çš„æ—¶å€™ï¼Œåœ¨è¢«è¿«é˜…è¯»äº†å¤§é‡æºç ä¹‹åï¼Œå‘ç°æä¾›çš„å®å†…æ ¸ç¤ºä¾‹å‹æ ¹æ²¡æœ‰åˆ›å»ºçº¿ç¨‹çš„ç³»ç»Ÿè°ƒç”¨ï¼Œè‡ªå·±å†™äº†åŠå¤©å¹¶æ²¡æœ‰å†™å‡ºæ¥ï¼Œæ‰€ä»¥åˆæ”¾å¼ƒäº†ã€‚ è™½ç„¶å†™çš„æŒºå·®çš„ï¼Œè€Œä¸”æœ€è¿‘ä¹Ÿåˆ°å­¦æ ¡çš„æœŸæœ«å‘¨äº†ï¼Œç¡®å®æœ‰æ²¡æœ‰å¤ªå¤šæ—¶é—´å†™è¿™ä¸ªé¡¹ç›®äº†ï¼Œä½†æ˜¯é€šè¿‡è¿™æ¬¡ posix æ¥å£çš„ç¼–å†™ï¼Œæˆ‘è¿˜æ˜¯å­¦ä¼šäº†ä¸å°‘ä¸œè¥¿ã€‚ æ€»ç»“ä»è®­ç»ƒè¥å¼€å§‹åˆ°ç°åœ¨ä¹Ÿè¿‡å» 12 å‘¨äº†ï¼Œçœ‹ç€è‡ªå·±ä»å¯¹æ“ä½œç³»ç»Ÿæ¯«æ— æ¦‚å¿µä¸€æ­¥æ­¥åˆ°ç°åœ¨è¿˜æ˜¯å¾ˆæ„Ÿæ…¨çš„ã€‚æ„Ÿè°¢è€å¸ˆçš„è¾›å‹¤ä»˜å‡ºï¼Œæ„Ÿè°¢è®­ç»ƒè¥èƒ½ç»™æˆ‘ä¸€ä¸ªè¿™æ ·çš„å¹³å°ã€‚","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://chy669086.github.io/categories/%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Rust","slug":"Rust","permalink":"https://chy669086.github.io/tags/Rust/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://chy669086.github.io/categories/%E7%AC%94%E8%AE%B0/"}]},{"title":"C++ ADL ç®€ä»‹","slug":"C-ADL-ç®€ä»‹","date":"2024-11-20T07:49:21.000Z","updated":"2024-11-20T07:49:21.000Z","comments":true,"path":"2024/11/20/C-ADL-ç®€ä»‹/","link":"","permalink":"https://chy669086.github.io/2024/11/20/C-ADL-%E7%AE%80%E4%BB%8B/","excerpt":"","text":"å‰ä¸¤å¤©æ°´ç¾¤æ°´åˆ°çš„ï¼Œçªç„¶æ„Ÿè§‰å¼€å‘äº†æ–°å¤§é™†ã€‚ ADL ç®€ä»‹ç›¸ä¿¡å¾ˆå¤šäººåº”è¯¥éƒ½å†™è¿‡ç±»ä¼¼è¿™æ ·çš„ä»£ç  #include &lt;algorithm&gt; #include &lt;vector&gt; int main() &#123; std::vector&lt;int&gt; a&#123;1, 2, 3, 4&#125;; sort(a.begin(), a.end()); return 0; &#125; è¿™é‡Œå¹¶æ²¡æœ‰ using namespace std å´å¯ä»¥ä¸ç”¨æ˜¾ç¤ºæŒ‡å®š std::sort æ¥è°ƒç”¨ï¼Œåº”è¯¥ä¸æ­¢æˆ‘ä¸€ä¸ªäººåœ¨ç¬¬ä¸€æ¬¡å†™å‡ºè¿™ä¸ªå¹¶æ„è¯†åˆ°çš„æ—¶å€™æ„Ÿåˆ°æƒŠè®¶ã€‚ æ›´é‡è¦çš„æ˜¯ï¼Œä»¥ä¸‹ä»£ç ä¼š CE #include &lt;algorithm&gt; int main() &#123; int a[10]&#123;&#125;; sort(a, a + 10); return 0; &#125; éš¾é“æ˜¯ std::vector çš„é—®é¢˜ï¼Ÿ æ²¡é”™ï¼Œå°±æ˜¯å› ä¸º std::vectorï¼ æ¥ä¸‹æ¥è®©æˆ‘æ¥æ­£å¼ä»‹ç»ä¸€ä¸‹ ADL(argument-dependent lookup)ï¼ å®å‚ä¾èµ–æŸ¥æ‰¾ï¼ˆADLï¼‰ï¼Œåˆç§° Koenig æŸ¥æ‰¾ï¼Œæ˜¯ä¸€ç»„å¯¹å‡½æ•°è°ƒç”¨è¡¨è¾¾å¼ï¼ˆåŒ…æ‹¬å¯¹é‡è½½è¿ç®—ç¬¦çš„éšå¼å‡½æ•°è°ƒç”¨ï¼‰ä¸­çš„æ— é™å®šçš„å‡½æ•°åè¿›è¡ŒæŸ¥æ‰¾çš„è§„åˆ™ã€‚åœ¨é€šå¸¸æ— é™å®šåå­—æŸ¥æ‰¾æ‰€è€ƒè™‘çš„ä½œç”¨åŸŸå’Œå‘½åç©ºé—´ä¹‹å¤–ï¼Œè¿˜ä¼šåœ¨å®ƒçš„å„ä¸ªå®å‚çš„å‘½åç©ºé—´ä¸­æŸ¥æ‰¾è¿™äº›å‡½æ•°ã€‚[1] ç®€å•æ¥è¯´å°±æ˜¯ï¼Œåœ¨è¿›è¡Œå‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼Œå…ˆä¼šåœ¨å½“å‰ä½œç”¨åŸŸï¼ˆåç§°ç©ºé—´ï¼‰å¯»æ‰¾å®šä¹‰ï¼Œæ‰¾ä¸åˆ°å°±ä¼šåœ¨å®å‚çš„å‘½åç©ºé—´ä¸­å¯»æ‰¾å®šä¹‰ï¼Œè¿˜æ‰¾ä¸åˆ°å°±ä¼šæŠ¥é”™ã€‚ åœ¨è¿™äº›è°ƒç”¨ä¸­ï¼ŒåŒ…å«ç±»è‡ªèº«ï¼ŒåŸºç±»ï¼Œå¤–å›´ç±»å’Œæœ€å†…å±‚ç±»çš„å¤–å±‚å‘½åç©ºé—´ï¼ˆå½“ç„¶ï¼Œå¯¹äºåŸºç¡€ç±»å‹ï¼Œå¦‚intä¹‹ç±»å…¶å…³è”é›†ä¸ºç©ºï¼‰ï¼›å¦‚æœç±»æ¨¡æ¿å·²ç»ç‰¹åŒ–å®å‚ï¼Œåˆ™è¿˜å¢åŠ å¯¹å®å‚ç±»çš„å‘½åç©ºé—´åŠä»¥å…¶ä¸ºæˆå‘˜çš„ç±»ã€‚ æ³¨è§£ å¯¹äºæ›´å¤šçš„ç»†èŠ‚ï¼Œè¯·æŸ¥é˜… cppreference.com ç„¶åæˆ‘ä»¬å°±å¯ä»¥å†™å‡ºè¿™æ ·çš„ä»£ç ï¼š #include &lt;algorithm&gt; #include &lt;vector&gt; class vec : public std::vector&lt;int&gt; &#123; public: vec() : std::vector&lt;int&gt;() &#123;&#125; vec(std::initializer_list&lt;int&gt; il) : std::vector&lt;int&gt;(il) &#123;&#125; &#125;; int main() &#123; vec a&#123;1, 2, 3, 4&#125;; sort(a.begin(), a.end()); return 0; &#125; sort è°ƒç”¨çš„æ—¶å€™ï¼Œå‘ç°å½“å‰æ²¡æœ‰å®šä¹‰ï¼Œç„¶ååˆ°å®å‚å®šä¹‰åŸŸä¸­æ‰¾ï¼Œæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆå»ä»–çš„åŸºç±»æ‰¾ï¼ŒåŸºç±»æ˜¯ std::vector&lt;int&gt;ï¼Œåœ¨ std åç§°ç©ºé—´ä¸­ï¼Œäºæ˜¯æ‰¾åˆ°äº† std::sort è¿›è¡Œè°ƒç”¨ã€‚ ADL çš„ç”¨é€”é€šè¿‡å‰é¢çš„ä¾‹å­æ¥çœ‹ï¼Œè¿™ä¸ªä¸œè¥¿å¥½åƒé™¤äº†å¢åŠ é˜…è¯»éš¾åº¦ï¼ˆå®Œå…¨ä¸çŸ¥é“å“ªé‡Œæ¥çš„å‡½æ•°ï¼‰ä¹‹å¤–å°±æ²¡æœ‰ç”¨äº†ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥ä¸¾ä¸€ä¸ªä¾‹å­ï¼š #include &lt;algorithm&gt; #include &lt;iostream&gt; #include &lt;vector&gt; namespace test &#123; class Demo &#123; public: Demo(int a) : a(a) &#123;&#125; int get() const &#123; return a; &#125; friend std::ostream &amp;operator&lt;&lt;(std::ostream &amp;os, const Demo &amp;d) &#123; os &lt;&lt; d.a; return os; &#125; private: int a; &#125;; &#125; int main() &#123; test::Demo d(114514); std::cout &lt;&lt; d &lt;&lt; &#39;\\n&#39;; return 0; &#125; std::cout &lt;&lt; è°ƒç”¨çš„æ—¶å€™é€šè¿‡ ADL æ‰¾åˆ°äº†ä½äº test åç§°ç©ºé—´çš„ std::ostream &amp;operator&lt;&lt;(std::ostream &amp;os, const Demo &amp;d)ï¼Œå¤§å¤§çš„ç®€åŒ–äº†ä»£ç ã€‚ ADL å…è®¸å‡½æ•°æ¨¡æ¿åœ¨ä¸åŒåç§°ç©ºé—´å®šä¹‰ï¼Œè€Œä¸éœ€è¦æ˜¾ç¤ºçš„æŒ‡å®šä½œç”¨åŸŸæˆ–è€…å…¨å±€ç©ºé—´é™å®šã€‚ å†æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š namespace N1 &#123; struct X &#123;&#125;; void f(X); &#125; namespace N2 &#123; void f(N1::X); &#125; void g() &#123; N1::X x; f(x); // è°ƒç”¨ N1::f N2::f(x); // è°ƒç”¨ N2::f using N2::f; f(x); // é”™è¯¯ï¼ŒCall to &#39;f&#39; is ambiguousï¼ŒåŒæ—¶å­˜åœ¨äº† N1::f å’Œ N2::f &#125; å¯ä»¥å‘ç° using çš„å‡½æ•°å¹¶ä¸è¢«å½“ä½œå½“å‰ä½œç”¨åŸŸï¼Œè€Œè¢«å½“ä½œäº†ä¸ N1 åŒçº§çš„å‡½æ•°ã€‚ æ€»ç»“ADL æ˜¯ C++ çš„ä¸€ä¸ªé‡è¦è¯­æ³•æ¦‚å¿µï¼Œä¸è¿‡å¸¦æ¥ä¾¿åˆ©çš„åŒæ—¶ä¹Ÿå¸¦æ¥çš„ä¸€äº›ä¸ç¡®å®šæ€§ï¼ˆä¸‡ä¸€è°ƒç”¨è°ƒé£äº†å°±å…¨æ¯äº†ï¼‰ï¼Œä¸è¿‡è¿™ä¸ªå’Œå…è®¸å‡½æ•°é‡è½½æ˜¯ä¸€æ ·çš„ï¼Œå¥½ç”¨ä¸å¦ï¼Œè¿˜æ˜¯åœ¨äºä½¿ç”¨çš„äººã€‚ å‚è€ƒæ–‡çŒ®[1] https://zh.cppreference.com/w/cpp/language/adl","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://chy669086.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"C++","slug":"C","permalink":"https://chy669086.github.io/tags/C/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://chy669086.github.io/categories/%E6%8A%80%E6%9C%AF/"}]},{"title":".bashrc å‘ .zshrc è¿ç§»çš„å°å¦™æ‹›","slug":"bashrc-å‘-zshrc-è¿ç§»çš„å°å¦™æ‹›","date":"2024-10-11T09:45:00.000Z","updated":"2024-10-11T09:45:00.000Z","comments":true,"path":"2024/10/11/bashrc-å‘-zshrc-è¿ç§»çš„å°å¦™æ‹›/","link":"","permalink":"https://chy669086.github.io/2024/10/11/bashrc-%E5%90%91-zshrc-%E8%BF%81%E7%A7%BB%E7%9A%84%E5%B0%8F%E5%A6%99%E6%8B%9B/","excerpt":"","text":"æ˜¨å¤©å…´è‡´çªå‘å®‰è£…äº† zsh å¹¶ä½¿ç”¨äº† powerlevel10k ä¸»é¢˜ã€‚æœ‰ä¸€è¯´ä¸€ zsh ä½¿ç”¨ä½“éªŒæ¯” bash å¥½å¤ªå¤šäº†ï¼Œä½†æ˜¯ä»Šå¤©æˆ‘å‘ç°äº†ä¸€ä¸ªé‡å¤§çš„é—®é¢˜ï¼šä¹‹å‰çš„æ‰€æœ‰é…ç½®éƒ½åœ¨ .bashrcï¼Œè¿™äº›ä¸ä¼šè‡ªåŠ¨ç»§æ‰¿åˆ° .zshrcï¼Œè¿™å¯å’‹åŠï¼Ÿè€Œä¸” zsh å’Œ bash å‘½ä»¤å¹¶ä¸å…¼å®¹ï¼Œä¸èƒ½ç®€å•åœ¨ .zshrc åŠ ä¸€å¥ source $HOME/.bashrc æ¥è§£å†³ã€‚ ç›´æ¥ source $HOME/.bashrc ä¼šå‡ºç°ä»¥ä¸‹æŠ¥é”™ /usr/share/bash-completion/bash_completion:45: command not found: shopt /usr/share/bash-completion/bash_completion:1596: parse error near `|&#39; ä¸€ç§æ–¹æ³•æ˜¯æŠŠæ‰€æœ‰é…ç½®æ–‡ä»¶éƒ½é‡æ–°è¿ç§»åˆ° .zshrcï¼Œä½†æ˜¯æˆ‘æ‡’ï¼Œæ‰€ä»¥æˆ‘æ‰¾åˆ°äº†äº›å°å¦™æ‹›ã€‚ å‘ç°åœ¨ bash ç›´æ¥è¿è¡Œ zsh ä¼šè®© zsh ç»§æ‰¿ bash çš„æ‰€æœ‰ç¯å¢ƒå˜é‡ï¼Œæ‰€ä»¥åªè¦æƒ³åŠæ³•è®© zsh å¯åŠ¨çš„æ—¶å€™å¯åŠ¨ bash å†ç”¨ bash å¯åŠ¨ zsh å°±å¥½äº†ã€‚ è§£å†³æ–¹æ³•æ‰‹åŠ¨è§£å†³ä¸€ç§æ–¹æ³•æ˜¯æ‰‹åŠ¨è§£å†³ # åœ¨ zsh ä¸­æ‰§è¡Œ exec bash # åœ¨ bash ä¸­æ‰§è¡Œ exec zsh æ”¹å†™é…ç½®æ–‡ä»¶å¦ä¸€ç§æ–¹æ³•æ˜¯æ”¹å†™ .zshrc å’Œ .bashrcã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨ .zshrc å¤´éƒ¨åŠ å…¥ if [[ -v __USE_ZSH ]]; then unset __USE_ZSH else echo &quot;ENTER BASH!&quot; export __USE_ZSH=1 exec bash fi ç„¶ååœ¨ .bashrc åº•éƒ¨åŠ å…¥ if [[ $__USE_ZSH -eq 1 ]]; then echo &quot;ENTER ZSH!&quot; exec zsh fi è¿™ä¸¤ä¸ªå‘½ä»¤å¤§æ¦‚å°±æ˜¯ï¼šè¿›å…¥ zsh å…ˆåˆ¤æ–­æœ‰æ²¡æœ‰ __USE_ZSH è¿™å˜é‡ï¼Œæœ‰ï¼Œå°± unset æ‰ï¼Œå¦åˆ™åˆ›å»º __USE_ZSH=1 ç„¶åè¿›å…¥ bashï¼Œbash ä¸­å¦‚æœå‘ç° __USE_ZSH==1ï¼Œå°±ä¼šè¿›å…¥ zshï¼Œå°±å¾ˆå¦™çš„æŠŠ bash çš„ç¯å¢ƒå˜é‡å·è¿‡æ¥äº†ã€‚ å‚è€ƒèµ„æ–™https://blog.csdn.net/qq_49030008/article/details/137921205","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://chy669086.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://chy669086.github.io/tags/linux/"},{"name":"bash","slug":"bash","permalink":"https://chy669086.github.io/tags/bash/"},{"name":"zsh","slug":"zsh","permalink":"https://chy669086.github.io/tags/zsh/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://chy669086.github.io/categories/%E6%8A%80%E6%9C%AF/"}]},{"title":"2024 ç§‹å†¬å­£å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥å­¦ä¹ ç¬”è®°","slug":"2024-ç§‹å†¬å­£å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥å­¦ä¹ ç¬”è®°","date":"2024-10-08T13:07:47.000Z","updated":"2024-12-22T11:15:32.000Z","comments":true,"path":"2024/10/08/2024-ç§‹å†¬å­£å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥å­¦ä¹ ç¬”è®°/","link":"","permalink":"https://chy669086.github.io/2024/10/08/2024-%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","excerpt":"","text":"ä¸ªäºº Rust å¼€æºè®­ç»ƒè¥å­¦ä¹ ç¬”è®°ï¼ˆæ„Ÿè§‰æ›´åƒæ—¥è®°ï¼‰ï¼Œå¤§æ¦‚ä¼šéš”ä¸€æ®µæ—¶é—´æ›´æ–°ä¸€æ¬¡ 2024-11-23 &gtå±•å¼€éšè— å¿«ä¸€ä¸ªæœˆæ²¡æœ‰æ›´æ–°äº† ä»Šå¤©åˆå›å»çœ‹äº†åœ°å€ç©ºé—´çš„çŸ¥è¯†ã€‚ä¹‹å‰è¿˜æ˜¯å­¦çš„ä¸æ‰å®ï¼Œæ˜¨å¤©å†™é˜¶æ®µä¸‰çš„ç»ƒä¹ çš„æ—¶å€™åˆåœ¨æƒ³æ“ä½œç³»ç»Ÿæ˜¯æ€ä¹ˆç®¡ç†è™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€çš„æ˜ å°„çš„ã€‚ç°åœ¨ææ‡‚äº†ï¼Œè®°å½•ä¸€ä¸‹ã€‚ risc-v åœ¨å¼€å¯ mmu ä¹‹åæ‰€æœ‰åœ°å€è®¿é—®éƒ½æ˜¯è™šæ‹Ÿåœ°å€ï¼Œæ“ä½œç³»ç»Ÿä¸ºäº†ç®¡ç†æ‰€æœ‰çš„å†…å­˜ï¼Œåœ¨å¼€å¯ mmu ä¹‹å‰ï¼Œéœ€è¦æå‰å»ºç«‹ä¸€ä¸ªè™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€çš„æ˜ å°„ã€‚åœ¨ arceos ä¸­æ˜¯å»ºç«‹äº†ä¸€ä¸ªé›¶åç§»çš„çš„è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€çš„æ˜ å°„ï¼ˆæ‰çŸ¥é“åœ°å€å¯ä»¥è¢«é‡å¤æ˜ å°„ï¼‰ï¼Œåˆå§‹åŒ–æ˜ å°„è¡¨ä¹‹åï¼Œå°±å¯ä»¥è¿›å…¥ mmu æ¨¡å¼ï¼Œä¹‹åå°±å¯ä»¥å¯åŠ¨åº”ç”¨ç¨‹åºè¿›å…¥ç”¨æˆ·æ€äº†ã€‚ arceos å†…æ ¸å’Œåº”ç”¨ç”¨äº†ä¸¤å¼ é¡µè¡¨ï¼Œä¹Ÿå°±è¯´æ¯æ¬¡ trap çš„æ—¶å€™éƒ½éœ€è¦åˆ·ä¸€ä¸‹ TLB æ¥ä¿è¯åœ°å€è®¿é—®æ­£ç¡®ã€‚ æ¯ä¸ªè¿›ç¨‹ç”³è¯·å†…å­˜çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿéƒ½ä¼šä»å‰©ä½™ç‰©ç†ç©ºé—´ä¸­æ‰¾ä¸€äº›ç©ºé—´æ¥æ˜ å°„ï¼Œè™šæ‹Ÿåœ°å€çš„è¿ç»­ä¸ä»£è¡¨ç‰©ç†åœ°å€çš„è¿ç»­ï¼Œä¹Ÿå°±æ˜¯è·¨é¡µçš„æ•°æ®åœ¨ç‰©ç†ä¸Šä¸ä¸€å®šæ˜¯è¿ç»­çš„ï¼ˆæ„Ÿè§‰å¥½è‰²ï¼‰ã€‚ æ“ä½œç³»ç»Ÿè®¿é—®ç”¨æˆ·åœ°å€åªéœ€è¦æ‰¾åˆ°ç”¨æˆ·çš„é¡µè¡¨ï¼ˆå‰é¢æ•´ä¸ªå†…å­˜éƒ½å·²ç»è¢«æ“ä½œç³»ç»Ÿæ˜ å°„äº†ï¼Œæ‰€ä»¥æ“ä½œç³»ç»Ÿå¯ä»¥è®¿é—®æ‰€æœ‰çš„å†…å­˜ï¼‰ï¼Œå¹¶æ ¹æ®è™šæ‹Ÿé¡µè¡¨æ‰¾åˆ°å¯¹åº”çš„ç‰©ç†é¡µè¡¨ï¼Œå°±å¯ä»¥ç›´æ¥è®¿é—®ï¼ˆarceos å› ä¸ºå»ºç«‹äº†é›¶åç§»çš„æ˜ å°„ï¼Œæ‰€ä»¥ä¸éœ€è¦ä¸‹ä¸€æ­¥è½¬æ¢ï¼Œå¦‚æœä¸æ˜¯é›¶åç§»çš„è½¬æ¢éœ€è¦å†è¿›è¡Œè½¬æ¢ï¼‰ã€‚ 2024-10-27 &gtå±•å¼€éšè— ch8 åœ¨ 10-21 å·²ç»å†™å®Œäº†ï¼Œæ˜¨å¤©åˆèŠ±äº†ä¸€äº›æ—¶é—´é‡æ„äº†ä¸€ä¸‹ï¼Œè¿™ä¸ªè®­ç»ƒè¥æ— ç–‘å¤§å¤§æé«˜äº†æˆ‘çš„ç¼–ç èƒ½åŠ›å’Œé˜…è¯»èƒ½åŠ›ã€‚ åœ¨å’Œç¾¤å‹çš„çƒ­çƒˆè®¨è®ºä¸‹ï¼Œæˆ‘ä¹Ÿå­¦ä¹ åˆ°äº†å¾ˆå¤šä¹‹å‰ä¸æ€ä¹ˆæ¸…æ¥šçš„ä¸œè¥¿ï¼Œä½†æ˜¯è¿˜æœ‰å¾ˆå¤šä¸å¤ªæ‡‚çš„ä¸œè¥¿ã€‚ å¾ˆæœŸå¾…ä¸‰é˜¶æ®µçš„å­¦ä¹ ï¼ 2024-10-18 &gtå±•å¼€éšè— ch6 ç®€ç›´å™©æ¢¦ æ„Ÿè§‰å†™çš„ä¸œè¥¿é—®é¢˜å¾ˆå¤§ï¼Œä¹Ÿæ²¡æœ‰å®Œå…¨ææ‡‚æ–‡ä»¶ç³»ç»Ÿå’Œå†…å­˜ç³»ç»Ÿï¼Œå°±æ˜¯ç…§è‘«èŠ¦ç”»ç“¢ï¼Œæˆ‘çš„æ–‡ä»¶ç³»ç»Ÿæ˜¯æœ‰ä¸¥é‡çš„æ³„éœ²é—®é¢˜çš„ï¼Œä½†æ˜¯ä¸ä¼šæ”¹ ä»Šå¤©ä¸€å£æ°”å†™äº†å¾ˆå¤šåƒåœ¾ä»£ç ï¼Œç„¶åè¿˜åŒ…æ‹¬ä¸€ä¸ªæ­»é”ï¼ˆåŒå¿—ä»¬è°ƒå‡½æ•°çš„æ—¶å€™ä¸€å®šè¦æ³¨æ„è¿™ä¸ªå‡½æ•°è¦ä¸è¦æŒæœ‰é”ï¼‰ã€‚ å†™å¥½ä¸€ä¸ªé¡¹ç›®çœŸæ˜¯ä¸€é—¨è‰ºæœ¯ã€‚æˆ‘ ch3 çš„ä»£ç åœ¨ ch4 ch5 ch6 åˆ†åˆ«é‡æ„äº†ä¸€éï¼Œç°åœ¨æ˜¯æˆ‘æ¯”è¾ƒæ»¡æ„çš„ä¸€ç‰ˆã€‚ä½†æ˜¯å…¶ä»–çš„æˆ‘æ„Ÿè§‰å†™çš„å°±å¾ˆæ€ªï¼Œè°å®¶ç»“æ„ä½“æ•°æ®å…¨éƒ¨ pub å•Šï¼ˆï¼‰ æœ€è¿‘éƒ½æ²¡æœ‰å»è®­ç»ƒï¼Œéƒ½å»å†™ os camp äº†ï¼Œç°åœ¨åªå‰©ä¸‹æœ€åä¸€ä¸ªè¦å†™ä»£ç çš„å®éªŒäº†ï¼Œæ„Ÿè§‰æ™‹çº§åœ¨æœ›ï¼æ„Ÿè§‰åœ¨è¿™ä¸ªè®­ç»ƒè¥å­¦åˆ°çš„çœŸçš„å¾ˆå¤šï¼Œæœ¬æ¥å¯¹æ“ä½œç³»ç»Ÿåªæ˜¯ä¸€çŸ¥åŠè§£ï¼Œç°åœ¨ç»è¿‡æµ…å±‚çš„å­¦ä¹ ï¼Œäº†è§£åˆ°äº†å¾ˆå¤šä»¥å‰åªçŸ¥é“åè¯çš„æ¦‚å¿µï¼Œä¹Ÿå¯¹æ“ä½œç³»ç»Ÿçš„æ•°æ®ç»„ç»‡å½¢å¼æœ‰äº†æ›´æ·±çš„äº†è§£ï¼ŒåŒæ—¶ä¹Ÿè§£å¼€äº†ä»¥å‰å¯¹æ±‡ç¼–çš„ç–‘é—®ã€‚ä»¥å‰åœ¨æƒ³ä¸ºä»€ä¹ˆæ±‡ç¼–è¦æœ‰æ“ä½œç³»ç»Ÿä½œä¸ºé“¾æ¥ï¼Œä¸€ç›´ä»¥ä¸ºæ±‡ç¼–æ˜¯å’Œæœºå™¨ç»‘å®šçš„ï¼Œæ˜¯æœºå™¨ç ã€‚å­¦ä¹ äº†ä¹‹åæ‰çŸ¥é“ï¼ŒåŸæ¥ç³»ç»Ÿä¸­æ–­æ˜¯æ“ä½œç³»ç»Ÿæä¾›çš„ï¼Œè€Œä¸”å¯»å€ä¹Ÿæ˜¯è¢«æ“ä½œç³»ç»Ÿè°ƒæ•´è¿‡çš„ï¼Œæ“ä½œç³»ç»Ÿè°ƒåº¦äº†æ‰€æœ‰ç¨‹åºçš„è¿è¡Œï¼Œæ‰€æœ‰ç¨‹åºæœ€ç»ˆéƒ½æ˜¯å›å½’åˆ°æ“ä½œç³»ç»Ÿä¸­å»çš„ã€‚ 2024-10-12 &gtå±•å¼€éšè— ch3 åœ¨æ˜¨å¤©çœ‹äº†ä¸€å¤©æ‰çœ‹æ‡‚è¦å¹²ä»€ä¹ˆæˆ‘å¥½èœå•Š ch3 å†™å®Œåæœ¬åœ°å•ç‹¬æµ‹è¯•éƒ½èƒ½è¿‡ï¼Œä½†æ˜¯ä¸€èµ·æµ‹è¯•å°±ä¼šèµ·é£ï¼Œdebug åå‘ç° get_time() å‡½æ•°ä¸€ç›´è¾“å‡ºçš„æ˜¯ 0ã€‚ç¾¤å†…è€å“¥è¯´åº”è¯¥æ˜¯ sbi çš„é—®é¢˜ï¼Œæˆ‘ä¹Ÿä¸æ‡‚æˆ‘ä¹Ÿä¸çŸ¥é“å•Šï¼ˆx ç„¶åæˆ‘å°±é‡æ„äº†ä¸€ä¸‹ï¼Œæˆ‘ç„¶åå°±å†™äº†ä¸€ä¸ªå¾ˆå¼±æ™ºçš„ä»£ç ï¼Œé‡ç°ä¸€ä¸‹å¤§æ¦‚æ˜¯è¿™ä¸ªæ„Ÿè§‰ï¼š use std::cell::RefCell; fn main() { let task = Task::new(1); println!(&quot;Task id: {}&quot;, task.get_id()); } struct TaskInner { arr: [u32; 10], id: usize, } struct Task { inner: RefCell&lt;TaskInner&gt;, } impl Task { fn get_id(&amp;self) -&gt; u32 { self.inner.borrow_mut().arr[self.inner.borrow_mut().id] } fn new(id: u32) -&gt; Task { Task { inner: RefCell::new(TaskInner { arr: [id; 10], id: 0, }), } } } self.inner.borrow_mut().arr[self.inner.borrow_mut().id] ç›´æ¥å€Ÿç”¨ä¸¤æ¬¡ç›´æ¥èµ·é£ï¼ˆ è­¦é’Ÿæ’…çƒ‚ ch3 æˆ‘çš„å®ç°ååˆ†çš„åƒåœ¾ï¼Œæ„Ÿè§‰æ€§èƒ½å®Œå…¨ä¸è¡Œï¼ˆ ch4 ç›´æ¥å‘Šè¯‰æˆ‘è¦é‡å†™ï¼ˆ æ€äº†æˆ‘ç®—äº† 2024-10-9 &gtå±•å¼€éšè— ä¸€ä¸Šæ¥ç¬¬ä¸€ä»¶äº‹å°±æ˜¯æŠ›å¼€äº† rust æ ‡å‡†åº“ã€‚æˆ‘åº”è¯¥èƒ½æƒ³åˆ°çš„ï¼Œæ¯•ç«Ÿæ ‡å‡†åº“éœ€è¦ä¾èµ–ç³»ç»Ÿï¼Œä½†æ˜¯ OS Camp è¦å¼€å‘ä¸€ä¸ªç³»ç»Ÿã€‚è¿™ä¸‹è½®å­éƒ½è¦è‡ªå·±é€ äº†ã€‚ æˆ‘ä¸ä¼š RISV-V æ±‡ç¼–å•Šï¼ è®­ç»ƒè¥ç”¨çš„æ˜¯ Qemu7.0 æ¨¡æ‹Ÿå™¨æ¨¡æ‹Ÿç¯å¢ƒã€‚rust ç¼–è¯‘ä½¿ç”¨ riscv64gc-unknown-none-elf ç¼–è¯‘ç¯å¢ƒ æ³¨è§£ riscv64gc-unknown-none-elf çš„ CPU æ¶æ„æ˜¯ riscv64gcï¼Œå‚å•†æ˜¯ unknownï¼Œæ“ä½œç³»ç»Ÿæ˜¯ noneï¼Œ elf è¡¨ç¤ºæ²¡æœ‰æ ‡å‡†çš„è¿è¡Œæ—¶åº“ã€‚æ²¡æœ‰ä»»ä½•ç³»ç»Ÿè°ƒç”¨çš„å°è£…æ”¯æŒï¼Œä½†å¯ä»¥ç”Ÿæˆ ELF æ ¼å¼çš„æ‰§è¡Œç¨‹åºã€‚ æˆ‘ä»¬ä¸é€‰æ‹©æœ‰ linux-gnu æ”¯æŒçš„ riscv64gc-unknown-linux-gnuï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å¼€å‘æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œè€Œéåœ¨ linux ç³»ç»Ÿä¸Šè¿è¡Œçš„åº”ç”¨ç¨‹åºã€‚ åœ¨åŠ å…¥ç¼–è¯‘å‘½ä»¤ riscv64gc-unknown-none-elf åå†åœ¨ main.rs åŠ å…¥ #![no_std] åï¼Œå¦‚æœåœ¨ vsc ä½¿ç”¨ rust-analyzer çš„æ—¶å€™ä¼šå‡ºç° Can&#39;t find crete test çš„æŠ¥é”™ï¼Œä½†æ˜¯ç¨‹åºåˆæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œè¿™æ˜¯ä¸€ä¸ª bugï¼Œå®˜æ–¹ issueã€‚ åªè¦åœ¨ vsc çš„ settings.json åŠ å…¥ä»¥ä¸‹å†…å®¹å°±è¡Œäº† { &quot;rust-analyzer.checkOnSave.allTargets&quot;: false, &quot;rust-analyzer.checkOnSave.extraArgs&quot;: [ &quot;--target&quot;, &quot;riscv64gc-unknown-none-elf&quot; ] } ä»¥åŠè®­ç»ƒè¥ç»™å‡ºçš„è§£ç­”ï¼š { // Prevent &quot;can&#39;t find crate for `test`&quot; error on no_std // Ref: https://github.com/rust-lang/vscode-rust/issues/729 // For vscode-rust plugin users: &quot;rust.target&quot;: &quot;riscv64gc-unknown-none-elf&quot;, &quot;rust.all_targets&quot;: false, // For Rust Analyzer plugin users: &quot;rust-analyzer.cargo.target&quot;: &quot;riscv64gc-unknown-none-elf&quot;, &quot;rust-analyzer.checkOnSave.allTargets&quot;: false, // &quot;rust-analyzer.cargo.features&quot;: [ // &quot;board_qemu&quot; // ] } å®éªŒæ˜¯åœ¨è£¸æœºå¹³å°ä¸Šè¿›è¡Œçš„ï¼ˆè¿™ä¸æ˜¯æ”¾å±å—ï¼Œos è¿˜èƒ½åœ¨å“ªé‡Œè·‘ï¼‰ã€‚ çœ‹è§é‚£äº›ä¸­æ–­å’Œæ±‡ç¼–è°ƒç”¨ï¼Œæˆ‘å·²ç»è¦å»ä¸–äº† api ä¸ abi çš„åŒºåˆ« è¯´çœŸçš„ä¹‹å‰éƒ½ä¸çŸ¥é“æœ‰ abi è¿™ä¸ªä¸œè¥¿ã€‚ API Application Programming Interface ABI Application Binary Interface ç®€å•æ¥è¯´ï¼ŒABI å°±æ˜¯äºŒè¿›åˆ¶æ¥å£ï¼Œæ¥è‡ªç³»ç»Ÿåº•å±‚ï¼Œæ‰€æœ‰ç¨‹åºéƒ½å¯ä»¥é€šè¿‡éµå®ˆ ABI æ¥è°ƒç”¨ï¼›API ä¸€èˆ¬å±€é™åœ¨ä¸€ä¸ªç¼–ç¨‹è¯­è¨€ï¼Œå®šä¹‰äº†æºç çº§åˆ«çš„æ“ä½œã€‚ è®­ç»ƒè¥ç»™çš„è§£é‡Š API ä¸ ABI çš„åŒºåˆ« åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ¥å£ ABI æ˜¯ä¸åŒäºŒè¿›åˆ¶ä»£ç ç‰‡æ®µçš„è¿æ¥çº½å¸¦ã€‚ABI å®šä¹‰äº†äºŒè¿›åˆ¶æœºå™¨ä»£ç çº§åˆ«çš„è§„åˆ™ï¼Œä¸»è¦åŒ…æ‹¬åŸºæœ¬æ•°æ®ç±»å‹ã€é€šç”¨å¯„å­˜å™¨çš„ä½¿ç”¨ã€å‚æ•°çš„ä¼ é€’è§„åˆ™ã€ä»¥åŠå †æ ˆçš„ä½¿ç”¨ç­‰ç­‰ã€‚ABI ä¸å¤„ç†å™¨å’Œå†…å­˜åœ°å€ç­‰ç¡¬ä»¶æ¶æ„ç›¸å…³ï¼Œæ˜¯ç”¨æ¥çº¦æŸé“¾æ¥å™¨ (Linker) å’Œæ±‡ç¼–å™¨ (Assembler) çš„ã€‚åœ¨åŒä¸€å¤„ç†å™¨ä¸‹ï¼ŒåŸºäºä¸åŒé«˜çº§è¯­è¨€ç¼–å†™çš„åº”ç”¨ç¨‹åºã€åº“å’Œæ“ä½œç³»ç»Ÿï¼Œå¦‚æœéµå¾ªåŒæ ·çš„ ABI å®šä¹‰ï¼Œé‚£ä¹ˆå®ƒä»¬å°±èƒ½æ­£ç¡®é“¾æ¥å’Œæ‰§è¡Œã€‚ åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ API æ˜¯ä¸åŒæºä»£ç ç‰‡æ®µçš„è¿æ¥çº½å¸¦ã€‚API å®šä¹‰äº†ä¸€ä¸ªæºç çº§ï¼ˆå¦‚ C è¯­è¨€ï¼‰å‡½æ•°çš„å‚æ•°ï¼Œå‚æ•°çš„ç±»å‹ï¼Œå‡½æ•°çš„è¿”å›å€¼ç­‰ã€‚å› æ­¤ API æ˜¯ç”¨æ¥çº¦æŸç¼–è¯‘å™¨ (Compiler) çš„ï¼šä¸€ä¸ª API æ˜¯ç»™ç¼–è¯‘å™¨çš„ä¸€äº›æŒ‡ä»¤ï¼Œå®ƒè§„å®šäº†æºä»£ç å¯ä»¥åšä»¥åŠä¸å¯ä»¥åšå“ªäº›äº‹ã€‚API ä¸ç¼–ç¨‹è¯­è¨€ç›¸å…³ï¼Œå¦‚ libc æ˜¯åŸºäº C è¯­è¨€ç¼–å†™çš„æ ‡å‡†åº“ï¼Œé‚£ä¹ˆåŸºäº C çš„åº”ç”¨ç¨‹åºå°±å¯ä»¥é€šè¿‡ç¼–è¯‘å™¨å»ºç«‹ä¸ libc çš„è”ç³»ï¼Œå¹¶èƒ½åœ¨è¿è¡Œä¸­æ­£ç¡®è®¿é—® libc ä¸­çš„å‡½æ•°ã€‚ link 2024-10-8 &gtå±•å¼€éšè— ä¸Šå­¦æœŸç¬¬ä¸€æ¬¡äº†è§£åˆ° rust è¯­è¨€ã€‚ç¬¬ä¸€æ¬¡å¬åˆ° rust æ˜¯æ¥è‡ªä»–çš„å¤–å·â€œè¯­è¨€ç¥â€ï¼ˆåŸç¥å¯åŠ¨ï¼ï¼‰ï¼Œä»¥åŠäº†è§£åˆ° rust çš„æœ€å¤§ç‰¹è‰²ï¼šç¼–è¯‘é”™è¯¯ã€‚ å­¦ä¹ äº†ä¸€æ®µæ—¶é—´åï¼Œæ„Ÿè§‰ rust æ˜¯çœŸ**çš„ä¼˜é›…ï¼Œæ‰€æœ‰æƒã€ç”Ÿå‘½å‘¨æœŸã€å€Ÿç”¨è§„åˆ™è®©æˆ‘é†é†çŒé¡¶ã€‚ä¹Ÿè®©æˆ‘æŠŠè¿™å¥—è§„åˆ™ç§»åŠ¨åˆ°äº†å…¶ä»–è¯­è¨€ä½¿ç”¨ï¼Œä¹Ÿæ˜¯å¤§å¤§åŠ é€Ÿäº†æˆ‘çš„ç¼–å†™é€Ÿåº¦ã€‚ å­¦ä¹ é˜¶æ®µå»å†™äº† rustlingã€mini-lsm å¼€æºå­¦ä¹ é¡¹ç›®ï¼ˆmini-lsm week3 å¼€å¤´ç»™æˆ‘å¹²çˆ†ç‚¸äº†å°±æ²¡æœ‰ç»§ç»­å†™ä¸‹å»ï¼‰ã€‚ æ„Ÿè§‰è¿˜æ˜¯ä¸æ˜¯å¾ˆæ·±å¾— rust å¼€å‘çš„ç²¾é«“ã€‚å†™èµ·æ¥ C é‡Œ C æ°”ã€‚æ„Ÿè§‰å–æ‚¦ç¼–è¯‘å™¨ä¹Ÿæ˜¯ä¸€é—¨æŠ€æœ¯æ´»ï¼ˆæœ€ç»å…¸çš„ rust åºåˆ—è®¿é—®ä¼šç”Ÿæˆ assertï¼Œæ‰€ä»¥å¯ä»¥æå‰ assert å‡å°‘ assert æ¬¡æ•°ï¼‰ã€‚ cargo æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„åŒ…ç®¡ç†å™¨ï¼ æ„Ÿè°¢ Rustè¯­è¨€åœ£ç»(Rust Course)ã€Rust ç¨‹åºè®¾è®¡è¯­è¨€ å’Œå…¶ä»–ç½‘ç»œä¸Šçš„ä½œè€…è´¡çŒ®çš„å¤§é‡çš„å­¦ä¹ èµ„æºã€‚ ç°å¼€æºè®­ç»ƒè¥ä¸€é˜¶æ®µæ™‹çº§ã€‚ï¼ˆç‰›é­”çš„ unsafe é“¾è¡¨çœŸæ˜¯ä¾æ‰˜ï¼‰ é¡ºä¾¿åæ§½ä¸€ä¸‹ C++ é‚£ä¾æ‰˜çš„ tuple","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://chy669086.github.io/categories/%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"2024 ç§‹å†¬å­£å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥","slug":"2024-ç§‹å†¬å­£å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥","permalink":"https://chy669086.github.io/tags/2024-%E7%A7%8B%E5%86%AC%E5%AD%A3%E5%BC%80%E6%BA%90%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%AD%E7%BB%83%E8%90%A5/"},{"name":"Rust","slug":"Rust","permalink":"https://chy669086.github.io/tags/Rust/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://chy669086.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://chy669086.github.io/categories/%E7%AC%94%E8%AE%B0/"}]},{"title":"C++ CRTP ç®€ä»‹","slug":"C-CRTP-ç®€ä»‹","date":"2024-10-05T14:08:24.000Z","updated":"2024-11-27T04:11:35.000Z","comments":true,"path":"2024/10/05/C-CRTP-ç®€ä»‹/","link":"","permalink":"https://chy669086.github.io/2024/10/05/C-CRTP-%E7%AE%80%E4%BB%8B/","excerpt":"","text":"æœ€è¿‘çœ‹ç¾¤å‹è®¨è®ºåˆ°äº†â€œè™šå‡½æ•°å°±æ˜¯å†å²é—ç•™é—®é¢˜ï¼Œç°åœ¨å®Œå…¨å¯ä»¥ç”¨ CRTP ä»£æ›¿â€ï¼Œå¥½å¥‡ï¼Œå°±å»æœç´¢äº†ä»€ä¹ˆæ˜¯ CRTPï¼Œç»“æœå‘ç°è¿™ä¹ˆæ—©çš„ä¸€ä¸ªæŠ€æœ¯æˆ‘ç°åœ¨æ‰çŸ¥é“ï¼ŒçœŸæ˜¯è½åæ—¶ä»£ 10 ä½™å¹´ã€‚ è™šå‡½æ•°ä¸åŠ¨æ€é“¾æ¥C++ çš„å¤šæ€æ˜¯é€šè¿‡è™šå‡½æ•°å®ç°çš„ï¼Œè™šå‡½æ•°çš„å®è´¨æ˜¯åœ¨å¯¹è±¡ä¸­å¼€è¾Ÿäº†ä¸€ä¸ªç©ºé—´æ¥å­˜å‚¨å‡½æ•°æŒ‡é’ˆï¼ˆè™šå‡½æ•°è¡¨ vtableï¼‰ï¼Œè°ƒç”¨è¿™ä¸ªå‡½æ•°æ˜¯é€šè¿‡è¿™ä¸ªæŒ‡é’ˆå»è®¿é—®ï¼Œè€Œä¸èƒ½åœ¨ç¼–è¯‘æœŸç¡®å®šã€‚ æ¯”å¦‚ï¼š class Animal &#123; public: virtual void jump() = 0; &#125;; class Cat : public Animal &#123; public: void jump() override &#123; std::cout &lt;&lt; &quot;cat jump\\n&quot;; &#125; &#125;; int main() &#123; Animal *p = new Cat; p-&gt;jump(); return 0; &#125; è°ƒç”¨ p-&gt;jump() çš„æ—¶å€™ï¼Œç¨‹åºä¼šå»è™šå‡½æ•°è¡¨å¯»æ‰¾é‚£ä¸ªæŒ‡é’ˆï¼Œåœ¨è¿™ä¸ªç¨‹åºä¸­æœ€ç»ˆä¼šè°ƒç”¨ Cat::jump()ã€‚ ä½†æ˜¯æŸ¥è¡¨ç»ˆç©¶æ˜¯æœ‰ä»£ä»·çš„ï¼Œæœ‰æ²¡æœ‰å…¼é¡¾å¤šæ€å’Œæ•ˆç‡çš„åšæ³•å‘¢ï¼Œäºæ˜¯ï¼ŒCRTP(Curiously Recurring Template Pattern) åº”è¿è€Œç”Ÿã€‚ é€šè¿‡æ¨¡æ¿å®ç°é™æ€ç»‘å®šé¦–å…ˆå¤ä¹ ä¸€ä¸ªæ¦‚å¿µï¼ŒC++ çš„æ¨¡æ¿æ˜¯ç¼–è¯‘æœŸå¤šæ€ï¼Œæ˜¯é›¶æˆæœ¬æŠ½è±¡ã€‚æˆ‘ä»¬åœ¨å­ç±»å’Œçˆ¶ç±»ä¸­å®šä¹‰åŒä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯ä¸å£°æ˜ä¸ºè™šå‡½æ•°ï¼Œé€šè¿‡ç¼–è¯‘æœŸå¤šæ€æ¥å®ç°ç»‘å®šã€‚ template &lt;typename T&gt; class Base &#123; public: void show() const &#123; static_cast&lt;const T*&gt;(this)-&gt;show(); &#125; &#125;; class Driver : public Base&lt;Driver&gt; &#123; public: void show() const &#123; std::cout &lt;&lt; &quot;This is class Driver.&quot; &lt;&lt; std::endl; &#125; &#125;; int main() &#123; Base&lt;Driver&gt; *p = new Driver; p-&gt;show(); return 0; &#125; è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œæœ‰ä¸‹åˆ—ç‰¹ç‚¹ åŸºç±»æ˜¯æ¨¡æ¿ç±»ï¼Œç”¨æ¥æ¥æ”¶å­ç±»çš„åå­—ï¼Œå› æ­¤ç»§æ‰¿ç±»ä¼¼äº ClassName : public Base&lt;ClassName&gt;ã€‚ åŸºç±»çš„å‡½æ•°ä¸­ï¼Œç”¨ static_cast&lt;&gt; å°†åŸºç±»çš„æŒ‡é’ˆè½¬æ¢æˆå­ç±»çš„æŒ‡é’ˆå®ç°ç»‘å®šã€‚ è¿è¡Œä¸Šè¿°ç¨‹åºï¼Œå¾—åˆ°ç»“æœ This is class Driver. è¯´æ˜æˆ‘ä»¬æˆåŠŸè¿›è¡Œäº†å­ç±»ä¸çˆ¶ç±»çš„ç»‘å®šï¼Œå®æ‰“å®çš„è°ƒç”¨äº†å­ç±»çš„ show() å‡½æ•°ã€‚ æœ‰ä»€ä¹ˆç”¨ï¼Œæ€ä¹ˆç”¨ä¼—æ‰€å‘¨çŸ¥ï¼Œå¤šæ€ä¸€èˆ¬éœ€è¦ç±»ä¼¼ std::vector&lt;Base*&gt; çš„å½¢å¼ï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬çš„åŸºç±»æ˜¯æ¨¡æ¿ç±»ï¼Œä¸èƒ½é€šè¿‡è¿™ç§æ–¹å¼å¤šæ€ï¼Œä¸å¦‚è¯´ï¼Œæ²¡æœ‰å¤šæ€ï¼Œå› ä¸º Animal&lt;Cat&gt;* å’Œ Animal&lt;Dog&gt;* æ˜¯ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„æŒ‡é’ˆã€‚ é‚£æ€ä¹ˆåŠï¼Ÿ è€ƒè™‘åˆ°ä¸€æ¬¡æŸ¥è¡¨çš„å¼€é”€ä¸æ˜¯ç‰¹åˆ«å¤§ï¼Œè™šå‡½æ•°å¸¦æ¥çš„å¤§é‡å¼€é”€ä¸»è¦æ˜¯å¤šå±‚ç»§æ‰¿å¸¦æ¥çš„å·¨å¤§é“¾æ¡å¸¦æ¥çš„æŸ¥è¯¢å¼€é”€ï¼Œç»§æ‰¿é“¾å¾ˆçŸ­çš„è¯å¼€é”€å…¶å®æ˜¯åœ¨é¢„æœŸå†…çš„ã€‚ é‚£æˆ‘ä»¬ç”¨ä¸€ä¸ªæ¨¡æ¿åŸºç±»ç»§æ‰¿ä¸€ä¸ªæ™®é€šåŸºç±»ï¼Œè¿™ä¸ªæ™®é€šåŸºç±»ä½¿ç”¨è™šå‡½æ•°ï¼Œä½†æ˜¯æ¨¡æ¿åŸºç±»ä½¿ç”¨é™æ€ç»‘å®šï¼Œæ´¾ç”Ÿç±»å»ç»§æ‰¿è¿™ä¸ªæ¨¡æ¿åŸºç±»ï¼Œé‚£ä¹ˆä¸è®ºå¦‚ä½•ï¼Œæˆ‘ä»¬éƒ½åªéœ€è¦æŸ¥ä¸€æ¬¡è¡¨å°±å¯ä»¥å®šä½åˆ°å¯¹åº”çš„å‡½æ•°ï¼Œå¤§å¤§é™ä½äº†å¤šæ¬¡ç»§æ‰¿å¸¦æ¥çš„å¼€é”€ã€‚ class Animal &#123; public: virtual void say() const = 0; virtual ~Animal() &#123;&#125; &#125;; template &lt;typename T&gt; class Animal_CRTP : public Animal &#123; public: void say() const override &#123; static_cast&lt;const T*&gt;(this)-&gt;say(); &#125; &#125;; class Cat : public Animal_CRTP&lt;Cat&gt; &#123; public: void say() const &#123; std::cout &lt;&lt; &quot;I&#39;m a cat.\\n&quot;; &#125; &#125;; class Dog : public Animal_CRTP&lt;Dog&gt; &#123; public: void say() const &#123; std::cout &lt;&lt; &quot;I&#39;m a dog.\\n&quot;; &#125; &#125;; int main() &#123; std::vector&lt;Animal*&gt; v; v.push_back(new Dog); v.push_back(new Cat); for (auto x : v) &#123; x-&gt;say(); &#125; return 0; &#125; è¾“å‡ºç»“æœ I&#39;m a dog. I&#39;m a cat. ä¸è¿‡å†™èµ·æ¥ç¡®å®å¾ˆéº»çƒ¦ï¼Œè€Œä¸”æ²¡æœ‰ override å¸¦æ¥çš„éƒ¨åˆ†ç¼–è¯‘æç¤ºï¼ˆå­—æ‰“é”™äº†è·‘å“ªé‡Œå“­å»ï¼‰ï¼Œä½†æ˜¯è¿™æ ·å†™æˆ‘ä»¬åŒæ—¶èµ¢å¾—äº†å¤šæ€å’Œæ•ˆç‡ï¼ˆåŒæ—¶ä»£ç é‡æè‡´è†¨èƒ€ï¼‰ã€‚ ä¸ºä»€ä¹ˆæœ‰äººè¿˜åœ¨ç”¨ç»§æ‰¿å•Š 2024-11-27 ADDC++23 å¸¦æ¥äº†ä¸€ä¸ªç¥å¥‡çš„ this auto &amp;&amp;self è¯­æ³•ï¼Œ CRTP äºæ˜¯æœ‰äº†ä¸€ä¸ªç¥å¥‡çš„å†™æ³• #include &lt;cstdio&gt; struct Base &#123; void name(this auto &amp;&amp;self) &#123; self.impl(); &#125; &#125;; struct D1 : public Base &#123; void impl() &#123; std::puts(&quot;D1::impl()&quot;); &#125; &#125;; struct D2 : public Base &#123; void impl() &#123; std::puts(&quot;D2::impl()&quot;); &#125; &#125;; int main() &#123; D1 d1; d1.name(); D2 d2; d2.name(); &#125; C++ æ ‡å‡†æœ‰ç‚¹è¿‡äºè‰²ç´äº† å‚è€ƒæ–‡çŒ®[1] https://en.cppreference.com/w/cpp/language/crtp","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://chy669086.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"C++","slug":"C","permalink":"https://chy669086.github.io/tags/C/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://chy669086.github.io/categories/%E6%8A%80%E6%9C%AF/"}]},{"title":"2022 ICPC æ­å·åŒºåŸŸèµ› K é¢˜é¢˜è§£","slug":"2022-ICPC-æ­å·åŒºåŸŸèµ›-K-é¢˜é¢˜è§£","date":"2024-10-02T09:01:08.000Z","updated":"2024-10-02T09:01:08.000Z","comments":true,"path":"2024/10/02/2022-ICPC-æ­å·åŒºåŸŸèµ›-K-é¢˜é¢˜è§£/","link":"","permalink":"https://chy669086.github.io/2024/10/02/2022-ICPC-%E6%9D%AD%E5%B7%9E%E5%8C%BA%E5%9F%9F%E8%B5%9B-K-%E9%A2%98%E9%A2%98%E8%A7%A3/","excerpt":"","text":"é¢˜ç›®å¤§æ„ç»™ä½  $n$ ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åæœ‰ $q$ æ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ç»™å‡ºä¸€ä¸ªå­—å…¸åºï¼Œè¯·ä½ è¾“å‡ºåœ¨è¿™ä¸ªå­—å…¸åºä¸‹çš„é€†åºå¯¹ä¸ªæ•°ã€‚ é¢˜è§£é¦–å…ˆè€ƒè™‘æš´åŠ›ï¼Œæ¯æ¬¡è¯¢é—®å¯ä»¥ $O(|S|\\log(n))$ å¤„ç†ï¼Œæ˜¾ç„¶ä¼šè¶…æ—¶ã€‚ è€ƒè™‘ä¼˜åŒ–ï¼Œæ³¨æ„åˆ°ä¸¤ä¸ªå­—ç¬¦ä¸²æ¯”è¾ƒå‡ºç»“æœä¸€å®šæ˜¯åœ¨æŸä¸ªä½ç½®å‘ç”Ÿçš„ï¼ˆç§°è¿™ä¸ªæ¯”å‡ºå¤§å°çš„æ¯”è¾ƒä¸ºå†³å®šæ€§æ¯”è¾ƒï¼‰ï¼Œè¿™ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸€å®šæœ‰ä¸€ä¸ªç›¸åŒçš„å‰ç¼€ï¼ˆé•¿åº¦å¯èƒ½æ˜¯ 0ï¼‰ã€‚é‚£ä¹ˆå¯ä»¥æŠŠé—®é¢˜è½¬æ¢æˆåˆ¤æ–­æŸä¸ªå­—ç¬¦å’Œå…¶ä»–å­—ç¬¦å‘ç”Ÿäº†å‡ æ¬¡å†³å®šæ€§çš„çš„æ¯”è¾ƒï¼Œé‚£ä¹ˆå¯¹äºæ¯æ¬¡è¯¢é—®æˆ‘ä»¬å’Œ $O(26 \\times 26)$ å¤„ç†ã€‚ å¦‚ä½•æ‰¾åˆ°å‘ç”Ÿäº†å‡ æ¬¡å†³å®šæ€§çš„æ¯”è¾ƒå‘¢ï¼Œæ³¨æ„å‰é¢çš„ä¸€ä¸ªæ€§è´¨ï¼Œå†³å®šæ€§æ¯”è¾ƒä¹‹å‰çš„ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸€å®šæ˜¯åŒå‰ç¼€ï¼Œè¿™æ­£å¥½æ’ä¸Šäº†å­—å…¸æ ‘çš„æ€§è´¨ï¼šç›¸åŒå‰ç¼€å…±ç”¨ä¸€æ¡é“¾ã€‚ æˆ‘ä»¬åªè¦ç»Ÿè®¡æ¯ä¸ªèŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹å­—ç¬¦æ€»æ•°ï¼Œå°±å¯ä»¥å¯¹æ¯ä¸€ä¸ªæ–°æ’å…¥çš„å­—ç¬¦ä¸²è¿›è¡Œå†³å®šæ€§æ¯”è¾ƒçš„ç»Ÿè®¡ã€‚å¯¹äº a å’Œ aa è¿™ç§ä¸²ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ¨æ¯ä¸ªä¸²åé¢åŠ ä¸€ä¸ªå­—ç¬¦ï¼Œå¹¶äººä¸ºå°†è¿™ä¸ªå­—ç¬¦çš„å­—å…¸åºè®¾ç½®ä¸ºæœ€å° // å­—æ®µæ ‘èŠ‚ç‚¹ struct node &#123; // åç»§èŠ‚ç‚¹ä½ç½® std::array&lt;int, 27&gt; nxt; // åç»§èŠ‚ç‚¹ä¸ªæ•°ç»Ÿè®¡ std::array&lt;int, 27&gt; sum; node() &#123; std::fill(all(nxt), -1); std::fill(all(sum), 0); &#125; &#125;; // å†³å®šæ€§æ¯”è¾ƒæ¬¡æ•°ç»Ÿè®¡ int cnt[27][27]; struct Trie &#123; std::vector&lt;node&gt; nodes; int root = 0; Trie() &#123; nodes.emplace_back(); &#125; void insert(const std::string &amp;s) &#123; int cur = root; for (char c : s) &#123; if (nodes[cur].nxt[c - &#39;a&#39;] == -1) &#123; nodes[cur].nxt[c - &#39;a&#39;] = nodes.size(); nodes.emplace_back(); &#125; // ç»Ÿè®¡è¿™ä¸ªä¸²çš„è¿™ä¸ªä½ç½®å†³å®šæ€§æ¯”è¾ƒæ¬¡æ•° for (int i = 0; i &lt; 27; i++) &#123; cnt[c - &#39;a&#39;][i] += nodes[cur].sum[i]; &#125; // åç»§èŠ‚ç‚¹è®¡æ•°åŠ ä¸€ nodes[cur].sum[c - &#39;a&#39;]++; cur = nodes[cur].nxt[c - &#39;a&#39;]; &#125; &#125; &#125;; å…¨éƒ¨ä»£ç  #include &lt;algorithm&gt; #include &lt;array&gt; #include &lt;cassert&gt; #include &lt;cctype&gt; #include &lt;cmath&gt; #include &lt;cstdint&gt; #include &lt;cstdio&gt; #include &lt;cstring&gt; #include &lt;iostream&gt; #include &lt;ostream&gt; #include &lt;string&gt; #include &lt;vector&gt; #ifdef DYNAMIC_PIGEON #include &quot;algo/debug.h&quot; #else #define debug(...) 114514 #endif #define Dynamic_Pigeon 0 using i64 = std::int64_t; using u64 = std::uint64_t; using u32 = std::uint32_t; constexpr i64 MOD = i64(1e9) + 7; constexpr int INF = 1e9; constexpr i64 INF_LONG_LONG = 1e18; #define all(a) a.begin(), a.end() #define rall(a) a.rbegin(), a.rend() #define int i64 struct node &#123; std::array&lt;int, 27&gt; nxt; std::array&lt;int, 27&gt; sum; node() &#123; std::fill(all(nxt), -1); std::fill(all(sum), 0); &#125; &#125;; int cnt[27][27]; struct Trie &#123; std::vector&lt;node&gt; nodes; int root = 0; Trie() &#123; nodes.emplace_back(); &#125; void insert(const std::string &amp;s) &#123; int cur = root; for (char c : s) &#123; if (nodes[cur].nxt[c - &#39;a&#39;] == -1) &#123; nodes[cur].nxt[c - &#39;a&#39;] = nodes.size(); nodes.emplace_back(); &#125; for (int i = 0; i &lt; 27; i++) &#123; cnt[c - &#39;a&#39;][i] += nodes[cur].sum[i]; &#125; nodes[cur].sum[c - &#39;a&#39;]++; cur = nodes[cur].nxt[c - &#39;a&#39;]; &#125; &#125; &#125;; void tizzytyt_SuKi() &#123; int n, q; std::cin &gt;&gt; n &gt;&gt; q; Trie trie; for (int i = 0; i &lt; n; i++) &#123; std::string s; std::cin &gt;&gt; s; s.push_back(&#39;a&#39; + 26); trie.insert(s); &#125; while (q--) &#123; std::string s; std::cin &gt;&gt; s; s = (char)(&#39;a&#39; + 26) + s; i64 ans = 0; for (int i = 0; i &lt; 27 - 1; i++) &#123; for (int j = i + 1; j &lt; 27; j++) &#123; ans += cnt[s[i] - &#39;a&#39;][s[j] - &#39;a&#39;]; &#125; &#125; std::cout &lt;&lt; ans &lt;&lt; &#39;\\n&#39;; &#125; &#125; signed main() &#123; #ifdef DYNAMIC_PIGEON freopen(&quot;input.in&quot;, &quot;r&quot;, stdin); #else std::cin.tie(0)-&gt;sync_with_stdio(0); #endif tizzytyt_SuKi(); return Dynamic_Pigeon; &#125;","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://chy669086.github.io/categories/%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"C++","slug":"C","permalink":"https://chy669086.github.io/tags/C/"},{"name":"ICPC","slug":"ICPC","permalink":"https://chy669086.github.io/tags/ICPC/"},{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"https://chy669086.github.io/tags/%E9%A2%98%E8%A7%A3/"}],"keywords":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://chy669086.github.io/categories/%E7%AC%94%E8%AE%B0/"}]},{"title":"C++ search å‡½æ•°","slug":"C-search-å‡½æ•°","date":"2024-10-01T12:34:15.000Z","updated":"2024-10-01T12:34:15.000Z","comments":true,"path":"2024/10/01/C-search-å‡½æ•°/","link":"","permalink":"https://chy669086.github.io/2024/10/01/C-search-%E5%87%BD%E6%95%B0/","excerpt":"","text":"ç®€ä»‹std::search å‡½æ•°åœ¨ C++ å¾ˆæ—©çš„ç‰ˆæœ¬å°±å¼€å§‹å­˜åœ¨äº†ï¼Œä½†æ˜¯åœ¨ C++17 ä¸­æ·»åŠ äº†ä¸€äº›é‡è½½å’Œè¾…åŠ©ç±»ï¼Œè¿™å¤§å¤§æé«˜äº†è¿™ä¸ªå‡½æ•°çš„ä½¿ç”¨ä»·å€¼ã€‚è¿™ç¯‡æ–‡ç« ä¸»è¦æ¥ä»‹ç»ä¸‹é¢è¿™ä¸ªé‡è½½ã€‚ template&lt; class ForwardIt, class Searcher &gt; ForwardIt search( ForwardIt first, ForwardIt last, const Searcher&amp; searcher ); å…ƒç´ åç§° å…ƒç´ æ„ä¹‰ first, last è¦æ£€éªŒçš„å…ƒç´ èŒƒå›´ â€”â€” ä¸€èˆ¬æ˜¯è¿­ä»£å™¨ searcher å°è£…æœç´¢ç®—æ³•å’Œæœç´¢æ¨¡å¼çš„æœç´¢å™¨ è¿™æ˜¯ä» C++17 å¼€å§‹ç»™ std::search æ·»åŠ çš„å‡½æ•°é‡è½½ï¼ŒSearcher æ˜¯æœç´¢å™¨ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è¿™ä¸ªå‡½æ•°æœ€æœ‰ç”¨çš„åœ°æ–¹äº†ï¼ŒC++ std æä¾›äº†ä¸‰ç§æœç´¢å™¨ï¼š default_searcher (C++17) æ ‡å‡† C++ åº“æœç´¢ç®—æ³•å®ç° boyer_moore_searcher (C++17) Boyer-Moore æœç´¢ç®—æ³•å®ç° boyer_moore_horspool_searcher (C++17) Boyer-Moore-Horspool æœç´¢ç®—æ³•å®ç° æ³¨æ„åˆ°æ ‡å‡†åº“æä¾›äº† BM ç®—æ³•çš„æœç´¢å™¨ï¼ŒBM ç®—æ³•ä¸€ç›´è¢«ç§°ä¸ºæœ€å¿«çš„å­—ç¬¦ä¸²æœç´¢ç®—æ³•ï¼Œåœ¨å®é™…è¡¨ç°ä¸­ä¸€èˆ¬æ¯” KMP å¿« 2ï½3 å€ï¼ˆæš´åŠ›ç®—æ³•åœ¨å¤§éƒ¨åˆ†æ—¶å€™å…¶å®è¡¨ç°ä¹Ÿæ¯” KMP å¥½ï¼‰ã€‚ä½†æ˜¯ç”±äº BM ç®—æ³•çš„æœ€åæ—¶é—´å¤æ‚åº¦æ˜¯ $O(nm)$ï¼Œæ‰€ä»¥ä¸å»ºè®®åœ¨ç®—æ³•ç«èµ›ä¸­ä½¿ç”¨ï¼Œä½†æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼ŒBM ç®—æ³•æ— ç–‘æ˜¯æœ€ä½³é€‰æ‹©ã€‚ ä½¿ç”¨ä¸¾ä¾‹#include &lt;functional&gt; #include &lt;iostream&gt; #include &lt;string&gt; int main() &#123; std::string s = &quot;never&quot;; // ç”¨ s åˆ›å»ºä¸€ä¸ªæœç´¢å™¨ std::boyer_moore_searcher searcher(s.begin(), s.end()); std::string text = &quot;never say never&quot;; // åœ¨ text ä¸­æœç´¢ s auto result = std::search(text.begin(), text.end(), searcher); if (result != text.end()) &#123; std::cout &lt;&lt; &quot;The text contains the substring \\&quot;never\\&quot; at position &quot; &lt;&lt; result - text.begin() &lt;&lt; &#39;\\n&#39;; &#125; else &#123; std::cout &lt;&lt; &quot;The text does not contain the substring \\&quot;never\\&quot;\\n&quot;; &#125; // åœ¨å¦ä¸€ä¸ªæ–‡æœ¬ä¸­æœç´¢ s text = &quot;always say always&quot;; result = std::search(text.begin(), text.end(), searcher); if (result != text.end()) &#123; std::cout &lt;&lt; &quot;The text contains the substring \\&quot;never\\&quot; at position &quot; &lt;&lt; result - text.begin() &lt;&lt; &#39;\\n&#39;; &#125; else &#123; std::cout &lt;&lt; &quot;The text does not contain the substring \\&quot;never\\&quot;\\n&quot;; &#125; return 0; &#125; è¾“å‡ºç»“æœ The text contains the substring &quot;never&quot; at position 0 The text does not contain the substring &quot;never&quot; å‚è€ƒé“¾æ¥cppreferrence.com","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://chy669086.github.io/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"C++","slug":"C","permalink":"https://chy669086.github.io/tags/C/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://chy669086.github.io/categories/%E6%8A%80%E6%9C%AF/"}]}]}